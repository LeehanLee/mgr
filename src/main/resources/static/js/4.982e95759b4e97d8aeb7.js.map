{"version":3,"sources":["webpack:///src/views/admin/org.vue","webpack:///./src/views/admin/org.vue?8b99","webpack:///./src/views/admin/org.vue"],"names":["org","created","window","ListService","get","this","listUrl","vm","then","handleListDataReceived","data","formLabelWidth","dtoFormVisible","currentDto","enabled","rules","dtoname","required","message","trigger","min","max","currentIndex","treeData","methods","handleSubmitClick","e","e2","_this","self","$refs","validate","valid","$message","type","id","ActionService","post","successMsg","errorMsg","r","target","Object","Utils","label","name","result","rows","_","isEmpty","showAddingForm","parent","parentid","value","parentname","handleEditClick","node","handleRemoveClick","url","HandleDeleteClick","handleToggleEnableClick","idArrs","orgTree","getCheckedNodes","map","ids","join","ToggleEnableAndAlert","getPageButtonFunc","getItemButtonFunc","val","assign","findIndex","listData","isEqual","getToggleEnableAndAlertFunc","enable","showItemBtn","right","indexOf","children","length","computed","modelTitle","pageRights","$store","itemRights","_this2","text","handleClick","containerHeight","height","admin_org","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","_l","index","key","size","on","click","$event","_s","class","tree-container","org-tree","msg-container","style","ref","show-checkbox","node-key","check-strictly","default-expand-all","expand-on-click-node","scopedSlots","_u","fn","delete-btn","_e","modal","title","visible","update:visible","model","label-width","prop","autocomplete","callback","$$v","$set","expression","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"js/4.982e95759b4e97d8aeb7.js","sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item class=\"other\">组织管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>组织列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-row>\r\n      <el-button\r\n        v-for=\"(right, index) in pageRights\"\r\n        :key=\"index\"\r\n        type=\"primary\"\r\n        size=\"small\"\r\n        @click=\"getPageButtonFunc(right.id)\"\r\n      >{{right.name}}</el-button>\r\n    </el-row>\r\n    <div\r\n      :class=\"{'tree-container': true, 'org-tree': true, 'msg-container': !!message}\"\r\n      :style=\"containerHeight\"\r\n    >\r\n      <div v-if=\"message\" class=\"msg\">{{message}}</div>\r\n      <div v-else class=\"tree-area\">\r\n        <el-tree\r\n          :data=\"treeData\"\r\n          show-checkbox\r\n          node-key=\"id\"\r\n          :check-strictly=\"false\"\r\n          ref=\"orgTree\"\r\n          default-expand-all\r\n          :expand-on-click-node=\"false\"\r\n        >\r\n          <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n            <span\r\n              :class=\"data.enabled ? 'item-enabled': 'item-disabled'\"\r\n            >{{ `${data.label}${!data.enabled ? '(已禁用)':''}` }}</span>\r\n            <span>\r\n              <el-button\r\n                v-for=\"(right) in itemRights\"\r\n                :key=\"right.id\"\r\n                type=\"text\"\r\n                size=\"mini\"\r\n                :class=\"{'delete-btn': right.id.indexOf('delete') >= 0}\"\r\n                v-if=\"showItemBtn(right, data)\"\r\n                @click=\"right.handleClick(data)\"\r\n              >{{right.text}}</el-button>\r\n              <!-- <el-button type=\"text\" size=\"mini\" @click=\"showAddingForm(data)\">添加下级组织</el-button>\r\n              <el-button type=\"text\" size=\"mini\" @click=\"handleEditClick(node, data)\">编辑</el-button>\r\n              <el-button\r\n                class=\"delete-btn\"\r\n                v-if=\"!data.children || data.children.length <= 0\"\r\n                type=\"text\"\r\n                size=\"mini\"\r\n                @click=\"handleRemoveClick(node, data)\"\r\n              >删除</el-button>-->\r\n            </span>\r\n          </span>\r\n        </el-tree>\r\n      </div>\r\n    </div>\r\n    <el-dialog :modal=\"false\" :title=\"modelTitle\" :visible.sync=\"dtoFormVisible\">\r\n      <el-form :model=\"currentDto\" :rules=\"rules\" ref=\"ruleForm\">\r\n        <el-form-item\r\n          v-if=\"currentDto.parentid\"\r\n          label=\"上级组织\"\r\n          :label-width=\"formLabelWidth\"\r\n          prop=\"name\"\r\n        >\r\n          <span>{{currentDto.parentname}}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"组织名\" :label-width=\"formLabelWidth\" prop=\"name\">\r\n          <el-input v-model=\"currentDto.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label :label-width=\"formLabelWidth\" prop=\"enabled\">\r\n          <el-checkbox v-model=\"currentDto.enabled\">启用</el-checkbox>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"handleSubmitClick\">确定</el-button>\r\n        <el-button @click=\"dtoFormVisible = false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  buildTree,\r\n  findFromTree,\r\n  getPageRights,\r\n  getItemRights\r\n} from \"../../common/Utils\";\r\nexport default {\r\n  created() {\r\n    window.ListService.get(this.listUrl, { vm: this }).then(\r\n      this.handleListDataReceived\r\n    );\r\n  },\r\n  data: function() {\r\n    return {\r\n      formLabelWidth: \"200px\",\r\n      dtoFormVisible: false,\r\n      currentDto: { enabled: false },\r\n      rules: {\r\n        dtoname: [\r\n          { required: true, message: \"请输入组织名\", trigger: \"change\" },\r\n          {\r\n            min: 2,\r\n            max: 16,\r\n            message: \"长度在 2 到 16 个字符\",\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n      },\r\n      currentIndex: -1,\r\n      message: \"\",\r\n      treeData: []\r\n    };\r\n  },\r\n  methods: {\r\n    handleSubmitClick: function(e, e2) {\r\n      const self = this;\r\n      this.$refs[\"ruleForm\"].validate(valid => {\r\n        if (valid) {\r\n          if (self.currentDto.id) {\r\n            window.ActionService.post(\"/api/org/update\", this.currentDto, {\r\n              successMsg: \"保存成功\",\r\n              errorMsg: \"保存失败\"\r\n            }).then(r => {\r\n              const target = findFromTree(self.treeData, self.currentDto.id);\r\n              target.enabled = self.currentDto.enabled;\r\n              target.label = self.currentDto.name;\r\n              self.dtoFormVisible = false;\r\n            });\r\n          } else {\r\n            window.ActionService.post(\"/api/org/insert\", self.currentDto, {\r\n              successMsg: \"添加成功\",\r\n              errorMsg: \"添加失败\"\r\n            }).then(r => {\r\n              self.dtoFormVisible = false;\r\n              window.ListService.get(self.listUrl, { vm: this }).then(\r\n                self.handleListDataReceived\r\n              );\r\n            });\r\n          }\r\n        } else {\r\n          this.$message({ message: \"请处理完错误后再保存\", type: \"error\" });\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    handleListDataReceived: function(result) {\r\n      this.treeData = buildTree(result.rows);\r\n      if (this._.isEmpty(result.rows)) {\r\n        this.message = \"No data yet.\";\r\n      }\r\n    },\r\n    showAddingForm: function(parent) {\r\n      this.dtoFormVisible = true;\r\n      this.currentDto = {\r\n        parentid: parent ? parent.value : null,\r\n        parentname: parent ? parent.label : \"无\"\r\n      };\r\n    },\r\n    handleEditClick: function(node, data) {\r\n      this.dtoFormVisible = true;\r\n      this.currentDto = {\r\n        parentid: node.parent ? node.parent.data.value : null,\r\n        parentname: node.parent ? node.parent.data.label : \"无\",\r\n        name: data.label,\r\n        id: data.value,\r\n        enabled: data.enabled\r\n      };\r\n    },\r\n    handleRemoveClick: function(node, data) {\r\n      const url = `/api/org/delete?id=${data.value}`;\r\n      window.HandleDeleteClick(this, url);\r\n    },\r\n    handleToggleEnableClick: function(enabled) {\r\n      const idArrs = this.$refs.orgTree.getCheckedNodes().map(node => {\r\n        return node.value;\r\n      });\r\n      if (this._.isEmpty(idArrs)) {\r\n        this.$message({\r\n          message: `请先勾选要${enabled ? \"启\" : \"禁\"}用的组织`,\r\n          type: \"error\"\r\n        });\r\n        return false;\r\n      }\r\n      const ids = idArrs.map(id => `\"${id}\"`).join(\",\");\r\n      const s = enabled ? \"enable\" : \"disable\";\r\n      const url = `/api/org/${s}`;\r\n      window.ToggleEnableAndAlert(this, url, ids, null, enabled);\r\n    },\r\n    getPageButtonFunc: function(id) {\r\n      switch (id) {\r\n        case \"org/insert\":\r\n          return this.showAddingForm();\r\n        case \"org/enable\":\r\n          return this.handleToggleEnableClick(true);\r\n        case \"org/disable\":\r\n          return this.handleToggleEnableClick(false);\r\n      }\r\n    },\r\n    getItemButtonFunc: function(id) {\r\n      const self = this;\r\n      switch (id) {\r\n        case \"org/update\":\r\n          return function(val) {\r\n            self.currentDto = self._.assign({}, val);\r\n            self.dtoFormVisible = true;\r\n            self.currentIndex = self._.findIndex(self.listData, r =>\r\n              self._.isEqual(r, val)\r\n            );\r\n          };\r\n        case \"org/enable\":\r\n          return this.getToggleEnableAndAlertFunc(self, true);\r\n        case \"org/disable\":\r\n          return this.getToggleEnableAndAlertFunc(self, false);\r\n        case \"org/delete\":\r\n          return function(val) {\r\n            const url = `/api/org/delete?id=${val.value}`;\r\n            window.HandleDeleteClick(self, url);\r\n          };\r\n      }\r\n    },\r\n    getToggleEnableAndAlertFunc: function(self, enable) {\r\n      return function(val) {\r\n        const s = enable ? \"enable\" : \"disable\";\r\n        const url = `/api/org/${s}`;\r\n        window.ToggleEnableAndAlert(self, url, val.value, null, enable);\r\n      };\r\n    },\r\n    showItemBtn: function(right, data) {\r\n      if (right.id.indexOf(\"delete\") >= 0) {\r\n        return !data.children || data.children.length <= 0;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  computed: {\r\n    listUrl: function() {\r\n      return `/api/org/getList?page=1&pageSize=999999`;\r\n    },\r\n    modelTitle: function() {\r\n      return !this.currentDto.id ? \"添加组织\" : \"编辑组织\";\r\n    },\r\n    pageRights: function() {\r\n      return getPageRights(this.$store, \"org\");\r\n    },\r\n    itemRights: function() {\r\n      const rs = getItemRights(this.$store, \"org\").map(r => {\r\n        return {\r\n          text: r.name,\r\n          id: r.id,\r\n          handleClick: this.getItemButtonFunc(r.id)\r\n        };\r\n      });\r\n      return rs;\r\n    },\r\n    containerHeight: function() {\r\n      const height = this._.isEmpty(this.pageRights)\r\n        ? \"calc(100% - 180px)\"\r\n        : \"calc(100% - 236px)\";\r\n      return { height };\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/admin/org.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-content\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{staticClass:\"other\"},[_vm._v(\"组织管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"组织列表\")])],1),_vm._v(\" \"),_c('el-row',_vm._l((_vm.pageRights),function(right,index){return _c('el-button',{key:index,attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.getPageButtonFunc(right.id)}}},[_vm._v(_vm._s(right.name))])}),1),_vm._v(\" \"),_c('div',{class:{'tree-container': true, 'org-tree': true, 'msg-container': !!_vm.message},style:(_vm.containerHeight)},[(_vm.message)?_c('div',{staticClass:\"msg\"},[_vm._v(_vm._s(_vm.message))]):_c('div',{staticClass:\"tree-area\"},[_c('el-tree',{ref:\"orgTree\",attrs:{\"data\":_vm.treeData,\"show-checkbox\":\"\",\"node-key\":\"id\",\"check-strictly\":false,\"default-expand-all\":\"\",\"expand-on-click-node\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',{class:data.enabled ? 'item-enabled': 'item-disabled'},[_vm._v(_vm._s((\"\" + (data.label) + (!data.enabled ? '(已禁用)':''))))]),_vm._v(\" \"),_c('span',_vm._l((_vm.itemRights),function(right){return (_vm.showItemBtn(right, data))?_c('el-button',{key:right.id,class:{'delete-btn': right.id.indexOf('delete') >= 0},attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){right.handleClick(data)}}},[_vm._v(_vm._s(right.text))]):_vm._e()}),1)])}}])})],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"modal\":false,\"title\":_vm.modelTitle,\"visible\":_vm.dtoFormVisible},on:{\"update:visible\":function($event){_vm.dtoFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.currentDto,\"rules\":_vm.rules}},[(_vm.currentDto.parentid)?_c('el-form-item',{attrs:{\"label\":\"上级组织\",\"label-width\":_vm.formLabelWidth,\"prop\":\"name\"}},[_c('span',[_vm._v(_vm._s(_vm.currentDto.parentname))])]):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"组织名\",\"label-width\":_vm.formLabelWidth,\"prop\":\"name\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.currentDto.name),callback:function ($$v) {_vm.$set(_vm.currentDto, \"name\", $$v)},expression:\"currentDto.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\",\"label-width\":_vm.formLabelWidth,\"prop\":\"enabled\"}},[_c('el-checkbox',{model:{value:(_vm.currentDto.enabled),callback:function ($$v) {_vm.$set(_vm.currentDto, \"enabled\", $$v)},expression:\"currentDto.enabled\"}},[_vm._v(\"启用\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmitClick}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dtoFormVisible = false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6bceafff\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/org.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6bceafff\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./org.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./org.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./org.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6bceafff\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./org.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/org.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}