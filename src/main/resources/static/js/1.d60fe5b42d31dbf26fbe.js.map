{"version":3,"sources":["webpack:///src/components/shared/Table.vue","webpack:///./src/components/shared/Table.vue?362f","webpack:///./src/components/shared/Table.vue","webpack:///src/components/shared/TreeSelectArea.vue","webpack:///./src/components/shared/TreeSelectArea.vue?28d9","webpack:///./src/components/shared/TreeSelectArea.vue","webpack:///src/views/admin/role.vue","webpack:///./src/views/admin/role.vue?4857","webpack:///./src/views/admin/role.vue"],"names":["Table","props","msg","String","columns","Array","rows","actions","costmerStyle","Object","data","selectedByIndex","methods","getContainerClass","c","this","length","allSelectedChange","selected","map","r","getSelectedIds","_this","forEach","index","push","id","computed","actionsColumnWidth","width","reduce","prevTotalWidth","item","shared_Table","render","_vm","_h","$createElement","_c","_self","key","JSON","stringify","class","style","staticClass","_v","_s","on","change","_l","column","cindex","text","_e","row","rindex","model","value","callback","$$v","$set","expression","enabled","dataIndex","action","aindex","attrs","size","type","click","$event","handleClick","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","TreeSelectArea","itemKey","title","arrayData","selectedIds","dialogVisible","handleYesClick","$refs","treeRef","getCheckedNodes","n","$emit","toggleSelectAll","isSelect","d","setCheckedKeys","treeData","Utils","selectedLabels","self","_","isEmpty","slice","element","find","name","join","shared_TreeSelectArea","disable-transitions","center","visible","append-to-body","update:visible","ref","node-key","check-strictly","show-checkbox","default-checked-keys","default-expand-all","expand-on-click-node","components_shared_TreeSelectArea","role","components","created","window","ListService","get","listUrl","vm","then","handleListDataReceived","currentPage","pageSize","total","formLabelWidth","dtoFormVisible","count","currentDto","rules","required","message","trigger","min","max","rights","currentIndex","dtoColumns","val","external__moment__default","format","color","loadingMsg","listData","handleSubmitClick","e","e2","validate","valid","$message","ActionService","post","successMsg","errorMsg","splice","handlePageSizeChange","isLoading","result","page","handlePageChange","showAddingForm","handleToggleEnableClick","idArrs","table","ids","url","ToggleEnableAndAlert","handleRightsSelected","getPageButtonFunc","getItemButtonFunc","assign","findIndex","isEqual","getToggleEnableAndAlertFunc","HandleDeleteClick","enable","modalTitle","$store","state","openInfo","pageRights","itemRights","_this2","tableContainerHeight","height","admin_role","separator","right","current-page","page-sizes","page-size","layout","size-change","current-change","modal","label","label-width","prop","autocomplete","onYesClick","slot","role_Component","role_normalizeComponent"],"mappings":"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","file":"js/1.d60fe5b42d31dbf26fbe.js","sourcesContent":["<template>\r\n  <div :class=\"getContainerClass()\" :style=\"costmerStyle\" :key=\"JSON.stringify(rows)\">\r\n    <div v-if=\"msg\" class=\"no-data\">{{msg}}</div>\r\n    <div v-else-if=\"!rows || rows.length<=0\" class=\"no-data\">Sorry, no data yet.</div>\r\n    <table v-else class=\"basic-table\">\r\n      <thead>\r\n        <tr class=\"title\">\r\n          <th class=\"selected-column\">\r\n            <el-checkbox class=\"select\" @change=\"allSelectedChange\"/>\r\n          </th>\r\n          <th v-for=\"(column, cindex) in columns\" :key=\"cindex\">{{column.text}}</th>\r\n          <th v-if=\"actions && actions.length > 0\" :style=\"actionsColumnWidth\">操作</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr class=\"row\" v-for=\"(row, rindex) in rows\" :key=\"rindex\">\r\n          <td class=\"selected-column\">\r\n            <el-checkbox class=\"select\" v-model=\"selectedByIndex[rindex]\"/>\r\n          </td>\r\n          <td\r\n            v-for=\"(column, cindex) in columns\"\r\n            :key=\"cindex\"\r\n            :style=\"column.style?column.style(row.enabled): ''\"\r\n          >{{column.render?column.render(row[column.dataIndex]) : row[column.dataIndex]}}</td>\r\n          <td v-if=\"actions && actions.length > 0\">\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              v-for=\"(action, aindex) in actions\"\r\n              :key=\"aindex\"\r\n              @click=\"action.handleClick(row)\"\r\n            >{{action.text}}</el-button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    msg: String,\r\n    columns: Array,\r\n    rows: Array,\r\n    actions: Array,\r\n    costmerStyle: Object\r\n  },\r\n  data: function() {\r\n    return {\r\n      selectedByIndex: []\r\n    };\r\n  },\r\n  methods: {\r\n    getContainerClass: function() {\r\n      let c = \"table-container\";\r\n      if (this.msg || !this.rows || this.rows.length <= 0) {\r\n        c = `${c} no-data-container`;\r\n      }\r\n      return c;\r\n    },\r\n    allSelectedChange: function(selected) {\r\n      this.selectedByIndex = this.rows.map(r => selected);\r\n    },\r\n    getSelectedIds: function() {\r\n      const r = [];\r\n      this.selectedByIndex.forEach((selected, index) => {\r\n        if (selected) {\r\n          r.push(this.rows[index].id);\r\n        }\r\n      });\r\n      return r;\r\n    }\r\n  },\r\n  computed: {\r\n    actionsColumnWidth: function() {\r\n      const width = this.actions.reduce((prevTotalWidth, item) => {\r\n        return (item.width ? item.width : 70) + prevTotalWidth;\r\n      }, 0);\r\n      return { width: width + \"px\" };\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.table-container {\r\n  &.no-data-container {\r\n    justify-content: center;\r\n    align-items: center;\r\n    display: flex;\r\n  }\r\n  background: #f2f7ff;\r\n  box-shadow: 0px 0px 5px #852b99;\r\n  position: fixed;\r\n  width: 82%;\r\n  bottom: 46px;\r\n  overflow: auto;\r\n  height: calc(100% - 216px);\r\n  border: 1px solid #852b99;\r\n  .no-data {\r\n    margin-top: -30px;\r\n    font-size: 30px;\r\n    text-align: center;\r\n    background: #f4f8ff;\r\n  }\r\n  .basic-table {\r\n    background: white;\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n    th {\r\n      background: #852b99;\r\n      color: white;\r\n    }\r\n\r\n    .el-checkbox__inner {\r\n      width: 18px;\r\n      height: 18px;\r\n      &::after {\r\n        height: 11px;\r\n        left: 5px;\r\n        top: 0px;\r\n        width: 6px;\r\n      }\r\n    }\r\n\r\n    .selected-column {\r\n      width: 30px;\r\n      text-align: center;\r\n\r\n      .select {\r\n        width: 20px;\r\n      }\r\n    }\r\n\r\n    .title {\r\n      height: 36px;\r\n    }\r\n    .row {\r\n      border-top: 1px solid #ddd;\r\n      border-bottom: 1px solid #ddd;\r\n      height: 50px;\r\n      transition: background-color 0.3s ease;\r\n      &:hover {\r\n        background: #cfe4f7;\r\n      }\r\n\r\n      td {\r\n        padding: 0 10px;\r\n        border-left: 1px solid #ddd;\r\n        &:first-child {\r\n          border: none;\r\n        }\r\n        &:last-child {\r\n          text-align: center;\r\n        }\r\n      }\r\n\r\n      &:first-child {\r\n        border-top: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/shared/Table.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{key:JSON.stringify(_vm.rows),class:_vm.getContainerClass(),style:(_vm.costmerStyle)},[(_vm.msg)?_c('div',{staticClass:\"no-data\"},[_vm._v(_vm._s(_vm.msg))]):(!_vm.rows || _vm.rows.length<=0)?_c('div',{staticClass:\"no-data\"},[_vm._v(\"Sorry, no data yet.\")]):_c('table',{staticClass:\"basic-table\"},[_c('thead',[_c('tr',{staticClass:\"title\"},[_c('th',{staticClass:\"selected-column\"},[_c('el-checkbox',{staticClass:\"select\",on:{\"change\":_vm.allSelectedChange}})],1),_vm._v(\" \"),_vm._l((_vm.columns),function(column,cindex){return _c('th',{key:cindex},[_vm._v(_vm._s(column.text))])}),_vm._v(\" \"),(_vm.actions && _vm.actions.length > 0)?_c('th',{style:(_vm.actionsColumnWidth)},[_vm._v(\"操作\")]):_vm._e()],2)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.rows),function(row,rindex){return _c('tr',{key:rindex,staticClass:\"row\"},[_c('td',{staticClass:\"selected-column\"},[_c('el-checkbox',{staticClass:\"select\",model:{value:(_vm.selectedByIndex[rindex]),callback:function ($$v) {_vm.$set(_vm.selectedByIndex, rindex, $$v)},expression:\"selectedByIndex[rindex]\"}})],1),_vm._v(\" \"),_vm._l((_vm.columns),function(column,cindex){return _c('td',{key:cindex,style:(column.style?column.style(row.enabled): '')},[_vm._v(_vm._s(column.render?column.render(row[column.dataIndex]) : row[column.dataIndex]))])}),_vm._v(\" \"),(_vm.actions && _vm.actions.length > 0)?_c('td',_vm._l((_vm.actions),function(action,aindex){return _c('el-button',{key:aindex,attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){action.handleClick(row)}}},[_vm._v(_vm._s(action.text))])}),1):_vm._e()],2)}),0)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-13867930\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/shared/Table.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-13867930\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Table.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Table.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Table.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-13867930\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Table.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shared/Table.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"tree-select-area\" :key=\"itemKey\">\r\n    <el-tag\r\n      :disable-transitions=\"true\"\r\n      type=\"success\"\r\n      v-if=\"selectedIds && selectedIds.length === arrayData.length\"\r\n    >已全选</el-tag>\r\n    <el-button type=\"text\" @click=\"dialogVisible = true\">{{selectedLabels}}</el-button>\r\n    <el-button\r\n      type=\"text\"\r\n      @click=\"$emit('onYesClick', [])\"\r\n      v-if=\"selectedIds && selectedIds.length>0\"\r\n    >清空</el-button>\r\n    <el-dialog\r\n      :center=\"true\"\r\n      width=\"30%\"\r\n      :title=\"title\"\r\n      :visible.sync=\"dialogVisible\"\r\n      append-to-body\r\n    >\r\n      <el-row>\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"handleYesClick\">确认</el-button>\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"dialogVisible=false\">取消</el-button>\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"toggleSelectAll(true)\">全选</el-button>\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"toggleSelectAll(false)\">全不选</el-button>\r\n      </el-row>\r\n      <el-tree\r\n        :data=\"treeData\"\r\n        node-key=\"value\"\r\n        :check-strictly=\"true\"\r\n        :show-checkbox=\"true\"\r\n        ref=\"treeRef\"\r\n        :default-checked-keys=\"selectedIds\"\r\n        default-expand-all\r\n        :expand-on-click-node=\"false\"\r\n      ></el-tree>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { buildTree } from \"../../common/Utils\";\r\nexport default {\r\n  props: {\r\n    itemKey: String,\r\n    title: String,\r\n    arrayData: Array,\r\n    selectedIds: Array,\r\n    actions: Array\r\n  },\r\n  data: function() {\r\n    return {\r\n      dialogVisible: false\r\n    };\r\n  },\r\n  methods: {\r\n    handleYesClick: function() {\r\n      this.dialogVisible = false;\r\n      const selectedIds = this.$refs.treeRef\r\n        .getCheckedNodes()\r\n        .map(n => n.value);\r\n      this.$emit(\"onYesClick\", selectedIds);\r\n    },\r\n    toggleSelectAll(isSelect) {\r\n      const selectedIds = isSelect ? this.arrayData.map(d => d.id) : [];\r\n      this.$refs.treeRef.setCheckedKeys(selectedIds);\r\n    }\r\n  },\r\n  computed: {\r\n    treeData: function() {\r\n      return buildTree(this.arrayData);\r\n    },\r\n    selectedLabels: function() {\r\n      const self = this;\r\n      if (this._.isEmpty(this.selectedIds)) {\r\n        return \"请选择\";\r\n      }\r\n      let selectedIds = this.selectedIds;\r\n      if (this.selectedIds.length > 6) {\r\n        selectedIds = selectedIds.slice(0, 6);\r\n      }\r\n      const selectedLabels = selectedIds.map(element => {\r\n        return self._.find(self.arrayData, d => d.id === element).name;\r\n      });\r\n      if (this.selectedIds.length > 6) {\r\n        selectedLabels.push(\"...\");\r\n      }\r\n      return selectedLabels.join(\", \");\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.el-tree {\r\n  max-height: 460px;\r\n  min-height: 300px;\r\n  overflow: auto;\r\n}\r\n.el-dialog__body {\r\n  padding-top: 13px !important;\r\n  .el-row {\r\n    padding-bottom: 13px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/shared/TreeSelectArea.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{key:_vm.itemKey,staticClass:\"tree-select-area\"},[(_vm.selectedIds && _vm.selectedIds.length === _vm.arrayData.length)?_c('el-tag',{attrs:{\"disable-transitions\":true,\"type\":\"success\"}},[_vm._v(\"已全选\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(_vm._s(_vm.selectedLabels))]),_vm._v(\" \"),(_vm.selectedIds && _vm.selectedIds.length>0)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.$emit('onYesClick', [])}}},[_vm._v(\"清空\")]):_vm._e(),_vm._v(\" \"),_c('el-dialog',{attrs:{\"center\":true,\"width\":\"30%\",\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.handleYesClick}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.dialogVisible=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.toggleSelectAll(true)}}},[_vm._v(\"全选\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.toggleSelectAll(false)}}},[_vm._v(\"全不选\")])],1),_vm._v(\" \"),_c('el-tree',{ref:\"treeRef\",attrs:{\"data\":_vm.treeData,\"node-key\":\"value\",\"check-strictly\":true,\"show-checkbox\":true,\"default-checked-keys\":_vm.selectedIds,\"default-expand-all\":\"\",\"expand-on-click-node\":false}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-03b4e2f6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/shared/TreeSelectArea.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03b4e2f6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TreeSelectArea.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TreeSelectArea.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TreeSelectArea.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03b4e2f6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TreeSelectArea.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shared/TreeSelectArea.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"main-content\">\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item class=\"other\">角色管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-row>\r\n      <el-button\r\n        v-for=\"(right, index) in pageRights\"\r\n        :key=\"index\"\r\n        type=\"primary\"\r\n        size=\"small\"\r\n        @click=\"getPageButtonFunc(right.id)\"\r\n      >{{right.name}}</el-button>\r\n    </el-row>\r\n    <div class=\"data-content\">\r\n      <Table\r\n        ref=\"table\"\r\n        :msg=\"loadingMsg\"\r\n        :rows=\"listData\"\r\n        :columns=\"dtoColumns\"\r\n        :actions=\"itemRights\"\r\n        :costmerStyle=\"tableContainerHeight\"\r\n      />\r\n      <el-pagination\r\n        @size-change=\"handlePageSizeChange\"\r\n        @current-change=\"handlePageChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-sizes=\"[10, 20, 50, 100]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      ></el-pagination>\r\n    </div>\r\n    <el-dialog :modal=\"false\" :title=\"modalTitle\" :visible.sync=\"dtoFormVisible\">\r\n      <el-form :model=\"currentDto\" :rules=\"rules\" ref=\"ruleForm\">\r\n        <el-form-item label=\"角色名\" :label-width=\"formLabelWidth\" prop=\"name\">\r\n          <el-input v-model=\"currentDto.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"权限\" :label-width=\"formLabelWidth\" prop=\"rights\">\r\n          <TreeSelectArea\r\n            :itemKey=\"currentDto.id\"\r\n            title=\"请选择权限\"\r\n            :arrayData=\"rights\"\r\n            :selectedIds=\"currentDto.rights\"\r\n            @onYesClick=\"handleRightsSelected\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label :label-width=\"formLabelWidth\" prop=\"enabled\">\r\n          <el-checkbox v-model=\"currentDto.enabled\">启用</el-checkbox>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"handleSubmitClick\">确定</el-button>\r\n        <el-button @click=\"dtoFormVisible = false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Table from \"../../components/shared/Table.vue\";\r\nimport TreeSelectArea from \"../../components/shared/TreeSelectArea.vue\";\r\nimport moment from \"moment\";\r\nimport { getPageRights, getItemRights } from \"../../common/Utils\";\r\n\r\nexport default {\r\n  components: {\r\n    Table,\r\n    TreeSelectArea\r\n  },\r\n  created() {\r\n    window.ListService.get(this.listUrl, { vm: this }).then(\r\n      this.handleListDataReceived\r\n    );\r\n  },\r\n  data: function() {\r\n    return {\r\n      currentPage: 1,\r\n      pageSize: 50,\r\n      total: 650,\r\n      formLabelWidth: \"200px\",\r\n      dtoFormVisible: false,\r\n      count: 0,\r\n      currentDto: {},\r\n      rules: {\r\n        name: [\r\n          { required: true, message: \"请输入角色名\", trigger: \"change\" },\r\n          {\r\n            min: 2,\r\n            max: 16,\r\n            message: \"长度在 2 到 16 个字符\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        rights: [{ required: true, message: \"请选择权限\", trigger: \"change\" }]\r\n      },\r\n      currentIndex: -1,\r\n      dtoColumns: [\r\n        {\r\n          text: \"角色名\",\r\n          dataIndex: \"name\"\r\n        },\r\n        {\r\n          text: \"添加日期\",\r\n          dataIndex: \"created\",\r\n          render: function(val) {\r\n            return moment(val).format(\"YYYY-MM-DD\");\r\n          }\r\n        },\r\n        {\r\n          text: \"启用\",\r\n          dataIndex: \"enabled\",\r\n          render: function(val) {\r\n            return val ? \"启用\" : \"禁用\";\r\n          },\r\n          style: function(val) {\r\n            return {\r\n              color: val ? \"blue\" : \"red\"\r\n            };\r\n          }\r\n        }\r\n      ],\r\n      loadingMsg: \"\",\r\n      listData: []\r\n    };\r\n  },\r\n  methods: {\r\n    handleSubmitClick: function(e, e2) {\r\n      const self = this;\r\n      this.$refs[\"ruleForm\"].validate(valid => {\r\n        if (valid) {\r\n          if (self.currentDto.id) {\r\n            window.ActionService.post(\"/api/role/update\", this.currentDto, {\r\n              successMsg: \"保存成功\",\r\n              errorMsg: \"保存失败\"\r\n            }).then(r => {\r\n              self.listData.splice(self.currentIndex, 1, self.currentDto);\r\n              self.dtoFormVisible = false;\r\n            });\r\n          } else {\r\n            window.ActionService.post(\"/api/role/insert\", self.currentDto, {\r\n              successMsg: \"添加成功\",\r\n              errorMsg: \"添加失败\"\r\n            }).then(r => {\r\n              self.dtoFormVisible = false;\r\n              self.currentPage = 1;\r\n              window.ListService.get(self.listUrl, { vm: this }).then(\r\n                self.handleListDataReceived\r\n              );\r\n            });\r\n          }\r\n        } else {\r\n          this.$message({ message: \"请处理完错误后再保存\", type: \"error\" });\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    handlePageSizeChange: function(pageSize) {\r\n      this.currentPage = 1;\r\n      this.pageSize = pageSize;\r\n      this.isLoading = true;\r\n\r\n      window.ListService.get(this.listUrl, { vm: this }).then(\r\n        this.handleListDataReceived\r\n      );\r\n    },\r\n    handleListDataReceived: function(result) {\r\n      this.listData = result.rows;\r\n      this.currentPage = result.page;\r\n      this.pageSize = result.pageSize;\r\n      this.total = result.total;\r\n    },\r\n    handlePageChange: function(page) {\r\n      this.currentPage = page;\r\n      this.isLoading = true;\r\n\r\n      window.ListService.get(this.listUrl, { vm: this }).then(\r\n        this.handleListDataReceived\r\n      );\r\n    },\r\n    showAddingForm: function() {\r\n      this.dtoFormVisible = true;\r\n      this.currentDto = {};\r\n    },\r\n    handleToggleEnableClick: function(enabled) {\r\n      const idArrs = this.$refs.table.getSelectedIds();\r\n\r\n      if (this._.isEmpty(idArrs)) {\r\n        this.$message({\r\n          message: `请先勾选要${enabled ? \"启\" : \"禁\"}用的角色`,\r\n          type: \"error\"\r\n        });\r\n        return false;\r\n      }\r\n      const ids = idArrs.map(id => `\"${id}\"`).join(\",\");\r\n      const s = enabled ? \"enable\" : \"disable\";\r\n      const url = `/api/role/${s}`;\r\n      window.ToggleEnableAndAlert(this, url, ids, null, enabled);\r\n    },\r\n    handleRightsSelected: function(selectedIds) {\r\n      // this.currentDto.rights = selectedIds;\r\n      this.$set(this.currentDto, \"rights\", selectedIds);\r\n    },\r\n    getPageButtonFunc: function(id) {\r\n      switch (id) {\r\n        case \"role/insert\":\r\n          return this.showAddingForm();\r\n        case \"role/enable\":\r\n          return this.handleToggleEnableClick(true);\r\n        case \"role/disable\":\r\n          return this.handleToggleEnableClick(false);\r\n      }\r\n    },\r\n    getItemButtonFunc: function(id) {\r\n      const self = this;\r\n      switch (id) {\r\n        case \"role/update\":\r\n          return function(val) {\r\n            self.currentDto = self._.assign({}, val);\r\n            self.dtoFormVisible = true;\r\n            self.currentIndex = self._.findIndex(self.listData, r =>\r\n              self._.isEqual(r, val)\r\n            );\r\n          };\r\n        case \"role/enable\":\r\n          return this.getToggleEnableAndAlertFunc(self, true);\r\n        case \"role/disable\":\r\n          return this.getToggleEnableAndAlertFunc(self, false);\r\n        case \"role/delete\":\r\n          return function(val) {\r\n            const url = `/api/role/delete?id=\"${val.id}\"`;\r\n            window.HandleDeleteClick(self, url);\r\n          };\r\n      }\r\n    },\r\n    getToggleEnableAndAlertFunc: function(self, enable) {\r\n      return function(val) {\r\n        const s = enable ? \"enable\" : \"disable\";\r\n        const url = `/api/role/${s}`;\r\n        window.ToggleEnableAndAlert(self, url, `\"${val.id}\"`, val, enable);\r\n      };\r\n    }\r\n  },\r\n  computed: {\r\n    listUrl: function() {\r\n      return `/api/role/getList?page=${this.currentPage}&pageSize=${\r\n        this.pageSize\r\n      }`;\r\n    },\r\n    modalTitle: function() {\r\n      return this._.isEmpty(this.currentDto) ? \"添加角色\" : \"编辑角色\";\r\n    },\r\n    rights() {\r\n      return this.$store.state.openInfo.rights.map(r => {\r\n        r.enabled = true;\r\n        return r;\r\n      });\r\n    },\r\n    pageRights: function() {\r\n      return getPageRights(this.$store, \"role\");\r\n    },\r\n    itemRights: function() {\r\n      const rs = getItemRights(this.$store, \"role\").map(r => {\r\n        return {\r\n          text: r.name,\r\n          handleClick: this.getItemButtonFunc(r.id)\r\n        };\r\n      });\r\n      return rs;\r\n    },\r\n    tableContainerHeight: function() {\r\n      const height = this._.isEmpty(this.pageRights)\r\n        ? \"calc(100% - 212px)\"\r\n        : \"calc(100% - 270px)\";\r\n      return { height };\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.main-content {\r\n  margin: 10px 10px 10px 2.5%;\r\n\r\n  .el-pagination {\r\n    position: fixed;\r\n    padding: 10px 5px;\r\n    bottom: 0px;\r\n  }\r\n  .data-content {\r\n    .table-container {\r\n      height: calc(100% - 270px);\r\n    }\r\n  }\r\n\r\n  .el-breadcrumb {\r\n    margin-bottom: 14px !important;\r\n    box-shadow: 0px 0px 5px #888;\r\n    display: inline-block;\r\n    border: 1px solid #888;\r\n    padding: 10px 15px;\r\n    border-radius: 3px;\r\n    background: #fafdff;\r\n\r\n    .other {\r\n      .el-breadcrumb__inner {\r\n        color: #0088cc;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/admin/role.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-content\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{staticClass:\"other\"},[_vm._v(\"角色管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"角色列表\")])],1),_vm._v(\" \"),_c('el-row',_vm._l((_vm.pageRights),function(right,index){return _c('el-button',{key:index,attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.getPageButtonFunc(right.id)}}},[_vm._v(_vm._s(right.name))])}),1),_vm._v(\" \"),_c('div',{staticClass:\"data-content\"},[_c('Table',{ref:\"table\",attrs:{\"msg\":_vm.loadingMsg,\"rows\":_vm.listData,\"columns\":_vm.dtoColumns,\"actions\":_vm.itemRights,\"costmerStyle\":_vm.tableContainerHeight}}),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handlePageSizeChange,\"current-change\":_vm.handlePageChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"modal\":false,\"title\":_vm.modalTitle,\"visible\":_vm.dtoFormVisible},on:{\"update:visible\":function($event){_vm.dtoFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.currentDto,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"角色名\",\"label-width\":_vm.formLabelWidth,\"prop\":\"name\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.currentDto.name),callback:function ($$v) {_vm.$set(_vm.currentDto, \"name\", $$v)},expression:\"currentDto.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"权限\",\"label-width\":_vm.formLabelWidth,\"prop\":\"rights\"}},[_c('TreeSelectArea',{attrs:{\"itemKey\":_vm.currentDto.id,\"title\":\"请选择权限\",\"arrayData\":_vm.rights,\"selectedIds\":_vm.currentDto.rights},on:{\"onYesClick\":_vm.handleRightsSelected}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\",\"label-width\":_vm.formLabelWidth,\"prop\":\"enabled\"}},[_c('el-checkbox',{model:{value:(_vm.currentDto.enabled),callback:function ($$v) {_vm.$set(_vm.currentDto, \"enabled\", $$v)},expression:\"currentDto.enabled\"}},[_vm._v(\"启用\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmitClick}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dtoFormVisible = false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f65eda0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/role.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f65eda0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./role.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f65eda0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./role.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/role.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}